<!-- macros.html -->
  
<!-- использую несколько раз в working_with_report -->
{% macro render_paragraph_and_sentence(paragraph) %}
    {% if paragraph %}
        <li class="report__paragraph">
            <p contenteditable="true" 
            data-paragraph-id="{{ paragraph.id }}" 
            data-title-paragraph="{{ paragraph.title_paragraph }}" 
            data-bold-paragraph="{{ paragraph.bold_paragraph }}" 
            data-visible-paragraph="{{ paragraph.paragraph_visible }}"
            data-paragraph-type="{{ paragraph.paragraph_type}}"
            data-paragraph-index="{{ paragraph.index }}"
            data-paragraph-comment="{{ paragraph.comment }}"
            data-paragraph-tags="{{ paragraph.tags }}"
            data-paragraph-weight="{{ paragraph.weight }}" 

            class="paragraphTitle 
            {% if paragraph.paragraph_visible %}report__paragraph--visible
            {% if paragraph.bold_paragraph %} report__paragraph--bold{% endif %}
            {% if paragraph.title_paragraph %} report__paragraph--title{% else %} report__paragraph--untitle{% endif %}
            {% else %}report__paragraph--invisible{% endif %}"
            >
                {{ paragraph.paragraph }}
            </p>
            <ul class="">
                
                <li class="">
                    {% if paragraph.head_sentences %}
                        {% for head_sentence in paragraph.head_sentences %}
                            
                                <span contenteditable="true"
                                class="report__sentence sentence" 
                                data-paragraph-id="{{ paragraph.id }}" 
                                data-index="{{ head_sentence.sentence_index }}"
                                data-id="{{ head_sentence.id }}"
                                data-sentence-type="head"> 
                                {{ head_sentence.sentence }} 
                                </span>
                                <!-- Кнопка "+" для добавления предложения -->
                                <button class="icon-btn icon-btn--add-sentence" type="button" title="Add Sentence">+</button>
                            
                        {% endfor %}
                    {% endif %}
                </li>
            </ul>
        </li>
    {% endif %}
{% endmacro %}

