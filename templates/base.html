<!-- base.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="{{ url_for("static", filename="pic/favi2.png")}}">
    <link rel="stylesheet" type="text/css" href="{{ url_for("static", filename="css/normalize.css")}}">
    <link rel="stylesheet" type="text/css" href="{{ url_for("static", filename='css/toastr.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for("static", filename='css/style.css') }}">
    
    

    <title> {{ title }} </title>
</head>
<body class="body">

    {% block menu %}
    
    <header class="header">
        <div class="container container--header">
            <img class="header__logo" src="{{ url_for("static", filename="pic/favi2.png")}}" alt="logo ">
            
            <nav class="header__nav">
                <ul class="header__menu">
                    {% if g.current_profile %}
                        {% for m in menu %}
                            <li class="header__menu-item">
                                <a class="header__menu-link" href="{{ m.url }}">{{ m.name }}</a>
                            </li>
                        {% endfor %}
                    {% endif %}
                </ul>
            </nav>

            <!-- Сообщение о версии программы -->
            {% if version %}
                <p class="header__paragraph header__paragraph--version">v.{{ version }}</p>
            {% endif %}
            
            <!-- Сообщение о текущем профиле -->
            {% if g.current_profile %}
                <p class="header__paragraph">Профиль: {{ g.current_profile.profile_name }}</p>
            {% else %}
                <p class="header__paragraph">No profile selected!</p>
            {% endif %}

            <!-- Сообщение о текущем юзере -->
            <p class="header__paragraph">Привет, {{ current_user.user_role }}, {{ current_user.user_name }}!</p>
            <a class="header__link" href="{{ url_for("security.logout") }}">Выйти</a>
        </div>
    </header>
    {% endblock menu %}

    <!-- Общий контент страниц -->
    <main class="main">
        <div class="container">
            <div class="main__title">
                <h1 class="main__heading">{{ title }}</h1>
            </div>

            <div class="main__body">
                {% block container %}
                {% endblock container %}
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p class="footer__paragraph">&copy; 2023-2024 Radiologary</p>
        </div>
    </footer>
</div>
<!-- Общие скрипты -->
<noscript>please turn on JS!</noscript>

<script src="{{ url_for("static", filename='js/jquery.js') }}"></script>
<script src="{{ url_for("static", filename='js/toastr.min.js') }}"></script>
<script src="{{ url_for("static", filename='js/utils.js') }}"></script>
<script src="{{ url_for("static", filename='js/api.js') }}"></script>

<!-- Блок для специфичных JS-скриптов -->
{% block scripts %}
{% endblock scripts %}

</body>
</html>
